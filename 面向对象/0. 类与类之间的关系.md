在面向对象编程（OOP）中，类与类之间的关系是设计软件系统的核心基础。这些关系定义了类之间的交互方式和依赖程度，直接影响系统的灵活性、复用性和可维护性。以下是 **6 种主要的类关系**，每种关系通过通俗定义、代码示例和 UML 图符号详细说明：

---

### 一、泛化（Inheritance） - **"is-a" 关系**
#### **定义**  
子类继承父类的属性和方法，并可以扩展或重写父类的功能。  
**UML 符号**：空心三角形箭头 `◁———`，箭头指向父类。

#### **示例**  
```java
// 父类：动物
class Animal {
    void eat() { System.out.println("Eating..."); }
}

// 子类：狗继承自动物
class Dog extends Animal {
    void bark() { System.out.println("Barking..."); }
}
```
- **解释**：`Dog` 是 `Animal` 的一种，继承 `eat()` 方法，并新增 `bark()` 方法。

---

### 二、实现（Realization） - **接口与实现**
#### **定义**  
类实现接口（Interface）中定义的方法，满足接口的契约。  
**UML 符号**：虚线空心三角形箭头 `◁---- `，箭头指向接口。

#### **示例**  
```java
// 接口：可飞行
interface Flyable {
    void fly();
}

// 类：鸟实现飞行接口
class Bird implements Flyable {
    public void fly() { System.out.println("Flying..."); }
}
```
- **解释**：`Bird` 必须实现 `Flyable` 接口的 `fly()` 方法。

---

### 三、组合（Composition） - **强 "has-a" 关系**
#### **定义**  
整体（类）由部分组成，部分不能独立于整体存在（生命周期一致）。  
**UML 符号**：实心菱形箭头 `◆———`，菱形指向整体。

#### **示例**  
```java
// 引擎类（部分）
class Engine {
    void start() { System.out.println("Engine started."); }
}

// 汽车类（整体）
class Car {
    private Engine engine;  // 组合关系：汽车拥有引擎
    
    Car() {
        engine = new Engine();  // 引擎随汽车创建而创建
    }
    
    void startCar() {
        engine.start();
    }
}
```
- **解释**：`Car` 销毁时，`Engine` 也会被销毁。

---

### 四、聚集（Aggregation） - **弱 "has-a" 关系**
#### **定义**  
整体由部分组成，但部分可以独立存在（生命周期不一致）。  
**UML 符号**：空心菱形箭头 `◇———`，菱形指向整体。

#### **示例**  
```java
// 教师类（部分）
class Teacher {
    void teach() { System.out.println("Teaching..."); }
}

// 学校类（整体）
class School {
    private List<Teacher> teachers;  // 聚集关系：学校包含教师
    
    void addTeacher(Teacher teacher) {
        teachers.add(teacher);
    }
}
```
- **解释**：`School` 解散后，`Teacher` 仍可存在。

---

### 五、关联（Association） - **协作关系**
#### **定义**  
类之间通过引用相互协作，可以是单向或双向的。  
**UML 符号**：实线箭头 `———>` 或双向实线 `<———>`。

#### **示例**  
```java
// 学生类
class Student {
    private Course course;  // 单向关联
    
    void enroll(Course course) {
        this.course = course;
    }
}

// 课程类
class Course {
    // 可以反向关联学生（双向关联）
}
```
- **解释**：学生与课程通过引用协作，但彼此独立存在。

---

### 六、依赖（Dependency） - **临时使用关系**
#### **定义**  
一个类临时使用另一个类的方法或属性（如参数、局部变量）。  
**UML 符号**：虚线箭头 `---->`，箭头指向被依赖的类。

#### **示例**  
```java
// 工具类
class Logger {
    static void log(String message) {
        System.out.println("Log: " + message);
    }
}

// 用户服务类依赖Logger
class UserService {
    void createUser(String name) {
        Logger.log("User created: " + name);  // 临时依赖
    }
}
```
- **解释**：`UserService` 仅在方法中临时使用 `Logger`。

---

### 七、总结对比表
| 关系类型   | 定义               | 生命周期一致性 | UML 符号           | 代码示例                            |
|--------|------------------|---------|------------------|---------------------------------|
| 继承（泛化） | 子类继承父类           | 强       | `◁———`           | `class Dog extends Animal`      |
| 实现     | 类实现接口            | 无       | `◁----`          | `class Bird implements Flyable` |
| 组合     | 强 "has-a"（整体-部分） | 一致      | `◆———`           | `Car` 包含 `Engine`               |
| 聚集     | 弱 "has-a"（整体-部分） | 不一致     | `◇———`           | `School` 包含 `Teacher`           |
| 关联     | 类间协作（单向/双向）      | 独立      | `———>` 或 `<———>` | `Student` 关联 `Course`           |
| 依赖     | 临时使用             | 独立      | `---->`          | `UserService` 使用 `Logger`       |

---

通过合理使用这些关系，可以设计出高内聚、低耦合的面向对象系统！