## 💡 KMP 算法中的 `next[j]` 表格详解

### 🧮 示例一：模式串 `abcabx`

| 🔢 j        | 1 | 2 | 3 | 4 | 5 | 6 |
|-------------|---|---|---|---|---|---|
| 🔤 模式串      | a | b | c | a | b | x |
| 🧭 next\[j] | 0 | 1 | 1 | 1 | 2 | 3 |

### 🧵 每一步解释：

1️⃣ `j=1`：只有 `a`，无前后缀 → `next[1] = 0` <br>
2️⃣ `j=2`：`a` 前后缀匹配一个字符 → `next[2] = 1` <br>
3️⃣ `j=3`：`ab` 前后缀匹配一个字符 → `next[3] = 1` <br>
4️⃣ `j=4`：`abc` 前后缀匹配一个字符 → `next[4] = 1` <br>
5️⃣ `j=5`：`abca` 前后缀 `"a"` → `next[5] = 2` <br>
6️⃣ `j=6`：`abcab` 前后缀 `"ab"` → `next[6] = 3` <br>

🎯 **经验公式**：

> 如果前后缀一个字符相等，k值时2，两个字符相等k值是3，n个字符相等k值就是**n+1**。。

---

### 📌 示例二：模式串 `ababaaaba`

| 🔢 j        | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |
|-------------|---|---|---|---|---|---|---|---|---|
| 🔤 模式串      | a | b | a | b | a | a | a | b | a |
| 🧭 next\[j] | 0 | 1 | 1 | 2 | 3 | 4 | 2 | 2 | 3 |

📋 特别说明：

* 到 `j=6` 时，前后缀为 `"aaaa"` → `next[6]=4`
* 到 `j=7` 时，没有新匹配，从上一个值 `k=4` 回退到 `k=2`，只匹配了 `"aa"` → `next[7]=2`
* `next` 数组的跳跃性体现了 KMP 的**回溯优化**。

---

### 📌 示例三：模式串 `aaaaaaaab`

| 🔢 j        | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |
|-------------|---|---|---|---|---|---|---|---|---|
| 🔤 模式串      | a | a | a | a | a | a | a | a | b |
| 🧭 next\[j] | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 |

📌 所有字符都重复 `"a"`，因此每一步都将前缀长度 +1，直到最后一个 `b` 不再匹配。

---

### 🔍 总结小技巧

| 特征                            | next 值变化                    |
|-------------------------------|-----------------------------|
| 前缀和后缀**无公共部分**                | `next[j] = 0`               |
| 前缀和后缀**有 n 个相同字符**            | `next[j] = n` （或 `n+1`，看实现） |
| 匹配失败，会根据 `next[k]` **回退 k** 值 | 避免暴力匹配回到开头，提高效率             |

---
